<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta name="description" 
    content="tyrad的个人技术博客，主要关注移动互联网,iOS,Flutter,Java,H5,Linux等技术。"> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="4GHpSI8Or6aARE0YwdGyiIPg2Xpo01z1VvqQu9o2n1M" />
    <title>1. 第一个flutter程序(part1) |  TYRAD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="https://www.tyrad.cc/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://www.tyrad.cc/css/spectre-exp.min.css" />
    <link rel="stylesheet" href="https://www.tyrad.cc/css/spectre-icons.css" />
    <link rel="stylesheet" href="https://www.tyrad.cc/css/spectre.min.css" />
    <link rel="stylesheet" href="https://www.tyrad.cc/css/theme.min.css" />
    <link rel="stylesheet" href="https://www.tyrad.cc/css/blog.css" />
    <link rel="stylesheet" href="https://www.tyrad.cc/css/override.css" /></head>

<body id="top"
    class="header-fixed header-animated sticky-footer  header-transparent header-dark ">
    <div id="page-wrapper">
        <section id="header" class="section">
            <section class="container grid-lg">
                <nav class="navbar">
                    <section class="navbar-section logo">
                        <a href="https://www.tyrad.cc" class="navbar-brand mr-10">
    
    

    <svg height="146px" viewBox="0 0 452 146" version="1.1" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="页面1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="black-37249" transform="translate(1.493827, 14.000000)" fill="#000000" fill-rule="nonzero">
                <path
                    d="M49.1575565,105.3356 C58.6514419,107.744266 56.8866035,117.059598 47.336582,117.946151 C42.200257,119.088059 32.5122345,116.823453 40.3049269,121.756528 C38.9160522,122.059136 31.4488504,121.215252 34.0530212,124.835545 C49.3931802,133.332539 76.1538235,115.03264 58.9252282,100.789887 C52.729951,96.9744155 44.6696275,99.6170026 49.1574334,105.335227 L49.1575565,105.3356 Z"
                    id="路径"></path>
                <path
                    d="M19.6456893,70.1148 C22.442564,67.6540154 27.5058454,64.8429245 31.2812983,65.0068451 C34.6705665,65.8322497 35.5828047,67.0095653 39.186732,72.7438254 C42.8052895,78.5014146 47.9529463,97.2035504 46.1250646,102.790183 C44.2922642,108.392369 38.9206152,112.836988 32.033488,115.798916 C26.5426541,118.077388 16.2140442,117.216187 11.6635736,112.33745 C7.2203064,106.943992 10.4439768,99.2077518 14.1196674,94.0765913 C17.8286541,88.8988961 15.684207,74.5702816 19.6458155,70.1143062 L19.6456893,70.1148 Z"
                    id="路径"></path>
                <path
                    d="M1.04535518,39.6272974 C4.05921119,39.3911165 4.59137567,39.1071824 5.59060008,38.0238167 C6.58982449,36.9404509 5.54928544,35.2576243 6.19663273,34.5114663 C6.84398002,33.7653083 8.10097246,32.9215361 9.07530028,33.5952113 C10.0496281,34.2688865 10.1138613,37.3267543 9.37831661,38.4819379 C8.64277193,39.6371215 5.43905457,40.0090086 5.43905457,40.0090086 L-0.469776243,41.8414683 C-1.16205066,72.2197737 13.1673278,72.6175072 32.5592772,62.9150689 C34.2888429,65.128073 36.8652659,66.7978007 39.3430985,68.5308898 C41.0289707,68.9713953 42.7656319,69.3673848 46.0436407,68.4125409 C52.7893702,66.6134557 67.7858277,37.9865577 58.6189054,24.5853236 C59.5609921,22.3072017 58.5329188,17.6980103 54.831139,9.92564579 C51.5837531,14.9810013 48.3835461,17.0014121 44.9911376,18.7424057 C39.7628549,17.4246155 36.1260864,16.8411895 31.0440711,17.2556102 C32.114064,10.6923806 28.9520111,5.60816741 24.8321244,0 C14.7334474,6.21819269 9.90786696,14.7224118 6.65139374,20.7687134 C4.38306595,26.7113784 -1.96157957,39.8636841 1.04555436,39.6278043 L1.04535518,39.6272974 Z"
                    id="路径"></path>
            </g>
            <text id="TYRAD" font-family="STBaoliSC-Regular, Baoli SC" font-size="116" font-weight="normal"
                fill="#000000">
                <tspan x="87" y="106">TYRAD</tspan>
            </text>
        </g>
    </svg>

    
    

    
</a>
                    </section>
                    <section class="navbar-section desktop-menu">
                        <nav class="dropmenu animated">

<ul class=""><li>
        <a href="/" title="Home page"
            class="">Home</a>
    </li><li>
        <a href="/archives/" title="Archives page"
            class="">Archives</a>
    </li><li>
        <a href="/wiki/" title="Wiki page"
            class="">Wiki</a>
    </li><li>
        <a href="/tools/" title="Tools page"
            class="">Tools</a>
        <ul><li>
                <a href="/tools/json/" class="">JSON解析</a>
            </li><li>
                <a href="/tools/rsa/" class="">RSA测试</a>
            </li><li>
                <a href="/tools/knowlegenav/" class="">导航</a>
            </li></ul>
    </li><li>
        <a href="/about/" title="About page"
            class="">About</a>
    </li></ul></nav>
                    </section>
                </nav>
            </section>
        </section>
        <div class="mobile-menu">
            <div class="button_container" id="toggle">
                <span class="top"></span>
                <span class="middle"></span>
                <span class="bottom"></span>
            </div>
        </div>
<section id="blog-hero" class="section 
modular-hero hero text-light title-h1h2 overlay-dark-gradient hero-tiny parallax" style="background-color: black;background-image: url( https://www.tyrad.cc/img/mt.jpg ); 
background-position-y: 0px;">
    <div class="image-overlay"></div>
    <section class="container grid-lg" style="text-align: center">
        
        <h1>1. 第一个flutter程序(part1)</h1>  
        
        <h2></h2>
        

<span class="breadcrumbs" style="padding-right:40px;">
    <i class="fa fa-bookmark" aria-hidden="true"></i>
    
    
    
    
    
    
    
    
    <span><a href='https://www.tyrad.cc/wiki'>wiki</a></span> &nbsp/&nbsp
    
    
    
    
    
    
    <span><a href='https://www.tyrad.cc/wiki#flutter'>flutter</a></span>
    
    
    
    
    
    &nbsp/&nbsp<span>Tutorial</span>
    
    
    
    
    
</span>

        <span class="blog-date">
            <time class="dt-published" datetime='2019-01-30T13:53:32.000&#43;00:00'
                itemprop="datePublished">
                <i class="fa fa-calendar"></i> 2019-01-30
            </time>
        </span>
        <span class="tags">
            
        </span>
    </section>
    <i id="to-start" class="pulse fa fa-angle-down"></i>
</section>
<section id="start">
    <section id="body-wrapper" class="section blog-listing post-content">
        <section class="container grid-lg">
            <div class="columns">
                <div id="item"
                    class="column  col-10  col-md-12 extra-spacing blog-content">

<p><a href="https://codelabs.developers.google.com/codelabs/first-flutter-app-pt1/#0">https://codelabs.developers.google.com/codelabs/first-flutter-app-pt1/#0</a></p>

<h1 id="介绍">介绍</h1>

<p>Flutter是谷歌推出的移动开发SDK，用于快速在iOS和Android上制作高质量的原生界面。 Flutter及其代码，被世界各地的开发人员和组织使用，并且是免费和开源的。</p>

<p>在此教程中，您将创建一个简单的Flutter应用程序。如果您熟悉面向对象的代码和基本编程概念（如变量，循环和条件），则可以完成此codelab。您不需要以前使用Dart或移动编程的经验。</p>

<h2 id="part1中将会学到什么">part1中将会学到什么</h2>

<ul>
<li>如何编写在iOS和Android上看起来很自然的Flutter应用程序。</li>
<li>Flutter应用程序的基本结构。</li>
<li>查找和使用包来扩展功能。</li>
<li>使用热重载可以加快开发周期。</li>
<li>如何实现有状态小部件(stateful widget)。</li>
<li>如何创建一个无限(infinite)的，延迟加载的列表(lazily loaded list)。</li>
</ul>

<p>在此codelab的第2部分中，您将添加交互性，修改应用程序的主题，并添加导航到新页面的功能（在Flutter中称为route）。</p>

<h2 id="part1教程中干了啥">part1教程中干了啥</h2>

<p>创建1个列表无线滚动,滚动时候出现新的名字,如下图:</p>

<p><img src="https://codelabs.developers.google.com/codelabs/first-flutter-app-pt1/img/e3624172607d5551.png" alt="https://codelabs.developers.google.com/codelabs/first-flutter-app-pt1/img/e3624172607d5551.png" /></p>

<h1 id="开发环境">开发环境</h1>

<p>略</p>

<h1 id="创建应用程序">创建应用程序</h1>

<p>1). 创建名称为&rsquo;startup_namer&rsquo;的程序</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">flutter create startup_namer</code></pre></div>
<p>2). 将<code>lib/main.dart</code>内容替换为:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">import</span> <span style="color:#c41a16">&#39;package:flutter/material.dart&#39;</span>;

<span style="color:#a90d91">void</span> <span style="color:#000">main</span>() <span style="color:#000">=&gt;</span> <span style="color:#000">runApp</span>(<span style="color:#a90d91">new</span> <span style="color:#000">MyApp</span>());

<span style="color:#a90d91">class</span> <span style="color:#3f6e75">MyApp</span> <span style="color:#a90d91">extends</span> <span style="color:#000">StatelessWidget</span> {
  <span style="color:#000">@</span><span style="color:#000">override</span>
  <span style="color:#000">Widget</span> <span style="color:#000">build</span>(<span style="color:#000">BuildContext</span> <span style="color:#000">context</span>) {
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">MaterialApp</span>(
      <span style="color:#000">title:</span> <span style="color:#c41a16">&#39;Welcome to Flutter&#39;</span>,
      <span style="color:#000">home:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Scaffold</span>(
        <span style="color:#000">appBar:</span> <span style="color:#a90d91">new</span> <span style="color:#000">AppBar</span>(
          <span style="color:#000">title:</span> <span style="color:#a90d91">const</span> <span style="color:#000">Text</span>(<span style="color:#c41a16">&#39;Welcome to Flutter&#39;</span>),
        ),
        <span style="color:#000">body:</span> <span style="color:#a90d91">const</span> <span style="color:#000">Center</span>(
          <span style="color:#000">child:</span> <span style="color:#a90d91">const</span> <span style="color:#000">Text</span>(<span style="color:#c41a16">&#39;Hello World&#39;</span>),
        ),
      ),
    );
  }
}</code></pre></div>
<p>运行后如图:</p>

<p><img src="https://codelabs.developers.google.com/codelabs/first-flutter-app-pt1/img/6b18b6e158b15685.png" alt="" /></p>

<blockquote>
<p>第一次在物理设备上运行时，可能比较慢。在此之后，您可以使用热重新加载进行快速更新。
如果应用程序正在运行，Save还会执行热重新加载。</p>
</blockquote>

<h2 id="分析">分析</h2>

<ol>
<li>此示例创建一个Material应用程序。 Material是一种视觉设计标准。 Flutter提供了丰富的Material小部件。</li>
<li>main方法使用了胖箭头(=&gt;), 这是dart的语法糖,适用于单行的函数或方法。</li>
<li>Myapp继承了<code>StatelessWidget</code>,使得应用程序本身就是一个Widget。flutter世界中,任何东西都是Widget,包括alignment, padding 以及 layout。</li>
<li>Material库中的脚手架部件(Scaffold widget)提供默认的app bar、title、body(保存主屏幕Widge tree)主体属性。小部件子树(widget subtree)可能非常复杂。</li>
<li>Widget的主要工作是提供一种<code>build</code>方法，该方法描述如何展示相对而言更低widget。</li>
<li>body包含Center Widget,其中Center Widget又含了Text子部件的。Center Widget将其widget subtree与屏幕中心对齐</li>
</ol>

<h1 id="使用外部package">使用外部package</h1>

<p>在这一步中，您将开始使用名为<a href="https://pub.dartlang.org/packages/english_words">english_words</a>的开源软件包，其中包含几千个最常用的英语单词和一些工具方法。</p>

<p>您可以在<a href="https://pub.dartlang.org/flutter/">pub.dartlang.org</a>上找到english_words包以及许多其他开源软件包。</p>

<p>pubspec文件管理Flutter应用程序的asset。在<code>pubspec.yaml</code>文件中,添加<code>english_words: ^3.1.0</code>到依赖列表。</p>

<pre><code>dependencies:
  flutter:
    sdk: flutter

  cupertino_icons: ^0.1.0
  english_words: ^3.1.0   # add this line
</code></pre>

<p>保存后AS会自动拉取。 片刻可以在左侧Packages里看到:</p>

<p><img src="http://image.tyrad.cc/20190130154883189726993.png" alt="20190130154883189726993.png" /></p>

<p>dart中导入头文件。AS中,<code>import 'xx'</code>显示灰色的表示未使用。</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">import</span> <span style="color:#c41a16">&#39;package:english_words/english_words.dart&#39;</span>;</code></pre></div>
<p>修改代码:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">class</span> <span style="color:#3f6e75">MyApp</span> <span style="color:#a90d91">extends</span> <span style="color:#000">StatelessWidget</span> {
  <span style="color:#000">@</span><span style="color:#000">override</span>
  <span style="color:#000">Widget</span> <span style="color:#000">build</span>(<span style="color:#000">BuildContext</span> <span style="color:#000">context</span>) {
    <span style="color:#a90d91">final</span> <span style="color:#000">wordPair</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">WordPair</span>.<span style="color:#000">random</span>(); <span style="color:#177500">// Add this line.
</span><span style="color:#177500"></span>    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">MaterialApp</span>(
      <span style="color:#000">title:</span> <span style="color:#c41a16">&#39;Welcome to Flutter&#39;</span>,
      <span style="color:#000">home:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Scaffold</span>(
        <span style="color:#000">appBar:</span> <span style="color:#a90d91">new</span> <span style="color:#000">AppBar</span>(
          <span style="color:#000">title:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Text</span>(<span style="color:#c41a16">&#39;Welcome to Flutter&#39;</span>),
        ),
        <span style="color:#000">body:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Center</span>(    <span style="color:#177500">// Change &#34;const&#34; to &#34;new&#34;.
</span><span style="color:#177500"></span>          <span style="color:#177500">//child: const Text(&#39;Hello World&#39;),   // Replace this text...
</span><span style="color:#177500"></span>          <span style="color:#000">child:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Text</span>(<span style="color:#000">wordPair</span>.<span style="color:#000">asPascalCase</span>),  <span style="color:#177500">// With this text.
</span><span style="color:#177500"></span>        ),
      ),
    );
  }
}     </code></pre></div>
<p>(注意:此时<code>Center</code>或<code>Text</code>不要用<code>const</code>来修饰)</p>

<p>可以看到,每次重新加载,屏幕上都会显示不同的名字。 这是因为单词配对是在构建方法中生成的，构建方法在每次MaterialApp需要渲染时运行，或者在Flutter Inspector中切换平台时运行(toggling the Platform in Flutter Inspector.)。</p>

<h1 id="添加-stateful-widget">添加 stateful widget</h1>

<p><code>Stateless widgets</code>是不可变的，这意味着它们的属性不能改变 - 所有值都是final。而<code>Stateful widgets</code>保存的状态在其生命周期内可以改变。</p>

<p>实现有状态窗口小部件至少需要两个类：一个StatefulWidget类，以及由它创建一个State类的实例。 StatefulWidget类本身是不可变的，但State类在widget的生命周期内持久存在。</p>

<p>在此步骤中，您将添加一个有状态(Stateful)的小部件RandomWords，它创建其StateType，RandomWordsState。然后，您将在现有的MyApp无状态小部件中使用RandomWords作为子项。</p>

<p>1). 创建一个最小的状态类。它可以在MyApp外部的文件中的任何位置，但示例中将其放在文件的底部。添加以下文本：</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">class</span> <span style="color:#3f6e75">RandomWordsState</span> <span style="color:#a90d91">extends</span> <span style="color:#000">State</span><span style="color:#000">&lt;</span><span style="color:#000">RandomWords</span><span style="color:#000">&gt;</span> {
  <span style="color:#177500">// TODO Add build method
</span><span style="color:#177500"></span>}</code></pre></div>
<p>注意声明的<code>State&lt;RandomWords&gt;</code>。这表明是围绕RandomWords的通用State类。应用程序的大多数逻辑和状态都驻留在这里 - 它维护RandomWords小部件的状态。
当用户通过切换心形图标从列表中添加或删除它们时，此类保存生成的单词对，这些单词对随着用户滚动而无限增长。并且可以点击心形喜欢该单词对(在part2教程)。</p>

<p>2). 创建<code>RandomWords</code>类</p>

<p>将有状态的RandomWords小部件添加到main.dart。除了创建State类之外，RandomWords小部件几乎没有其他功能：</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">class</span> <span style="color:#3f6e75">RandomWords</span> <span style="color:#a90d91">extends</span> <span style="color:#000">StatefulWidget</span> {
  <span style="color:#000">@</span><span style="color:#000">override</span>
  <span style="color:#000">RandomWordsState</span> <span style="color:#000">createState</span>() <span style="color:#000">=&gt;</span> <span style="color:#a90d91">new</span> <span style="color:#000">RandomWordsState</span>();
}</code></pre></div>
<p>3). 添加<code>RandomWordsState</code>的build方法:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">class</span> <span style="color:#3f6e75">RandomWordsState</span> <span style="color:#a90d91">extends</span> <span style="color:#000">State</span><span style="color:#000">&lt;</span><span style="color:#000">RandomWords</span><span style="color:#000">&gt;</span> {
  <span style="color:#177500">//必须实现build方法
</span><span style="color:#177500"></span>  <span style="color:#000">@</span><span style="color:#000">override</span>
  <span style="color:#000">Widget</span> <span style="color:#000">build</span>(<span style="color:#000">BuildContext</span> <span style="color:#000">context</span>) {
    <span style="color:#a90d91">final</span> <span style="color:#000">WordPair</span> <span style="color:#000">wordPair</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">WordPair</span>.<span style="color:#000">random</span>();
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">Text</span>(<span style="color:#000">wordPair</span>.<span style="color:#000">asCamelCase</span>);
  }
}</code></pre></div>
<p>4). 修改MyApp</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">class</span> <span style="color:#3f6e75">MyApp</span> <span style="color:#a90d91">extends</span> <span style="color:#000">StatelessWidget</span> {
  <span style="color:#000">@</span><span style="color:#000">override</span>
  <span style="color:#000">Widget</span> <span style="color:#000">build</span>(<span style="color:#000">BuildContext</span> <span style="color:#000">context</span>) {
    <span style="color:#a90d91">final</span> <span style="color:#000">WordPair</span> <span style="color:#000">wordPair</span> <span style="color:#000">=</span> <span style="color:#a90d91">new</span> <span style="color:#000">WordPair</span>.<span style="color:#000">random</span>();  <span style="color:#177500">// Delete this line.
</span><span style="color:#177500"></span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">MaterialApp</span>(
      <span style="color:#000">title:</span> <span style="color:#c41a16">&#39;Welcome to Flutter&#39;</span>,
      <span style="color:#000">home:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Scaffold</span>(
        <span style="color:#000">appBar:</span> <span style="color:#a90d91">new</span> <span style="color:#000">AppBar</span>(
          <span style="color:#000">title:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Text</span>(<span style="color:#c41a16">&#39;Welcome to Flutter&#39;</span>),
        ),
        <span style="color:#000">body:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Center</span>(
          <span style="color:#177500">//child: new Text(wordPair.asPascalCase), // Change this line to... 
</span><span style="color:#177500"></span>          <span style="color:#000">child:</span> <span style="color:#a90d91">new</span> <span style="color:#000">RandomWords</span>(),                 <span style="color:#177500">// ... this line.
</span><span style="color:#177500"></span>        ),
      ),
    );
  }
}</code></pre></div>
<h1 id="创建无线滚动的listview">创建无线滚动的ListView</h1>

<p>ListView的<code>builder</code>工厂构造函数允许您根据需要懒惰地构建列表视图。</p>

<p>1). 创建<code>_suggestions</code>列表保存名字,<code>_biggerFont</code>变量用作字体调整</p>

<blockquote>
<p><code>_</code>修饰的变量为私有变量</p>
</blockquote>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#a90d91">class</span> <span style="color:#3f6e75">RandomWordsState</span> <span style="color:#a90d91">extends</span> <span style="color:#000">State</span><span style="color:#000">&lt;</span><span style="color:#000">RandomWords</span><span style="color:#000">&gt;</span> {
  <span style="color:#177500">// Add the next two lines.
</span><span style="color:#177500"></span>  <span style="color:#a90d91">final</span> <span style="color:#000">List</span><span style="color:#000">&lt;</span><span style="color:#000">WordPair</span><span style="color:#000">&gt;</span> <span style="color:#000">_suggestions</span> <span style="color:#000">=</span> <span style="color:#000">&lt;</span><span style="color:#000">WordPair</span><span style="color:#000">&gt;</span>[];
  <span style="color:#a90d91">final</span> <span style="color:#000">TextStyle</span> <span style="color:#000">_biggerFont</span> <span style="color:#000">=</span> <span style="color:#a90d91">const</span> <span style="color:#000">TextStyle</span>(<span style="color:#000">fontSize:</span> <span style="color:#1c01ce">18.0</span>); 
  ...
}</code></pre></div>
<p>接下来，您将向RandomWordsState类添加_buildSuggestions（）函数。
此方法将构建显示建议的单词对的ListView。</p>

<p>ListView类提供了一个构建器属性itemBuilder，它是一个工厂构建器和指定为匿名函数的回调函数。
两个参数传递给函数 - BuildContext和行迭代器，i。迭代器(iterator)从0开始，每次调用函数时递增 - 每个建议的单词配对一次。此模型允许建议列表在用户滚动时无限增长。</p>

<p>2). RandomWordsState类添加<code>_buildSuggestions</code>方法:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#000">Widget</span> <span style="color:#000">_buildSuggestions</span>() {
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">ListView</span>.<span style="color:#000">builder</span>(
      <span style="color:#000">padding:</span> <span style="color:#a90d91">const</span> <span style="color:#000">EdgeInsets</span>.<span style="color:#000">all</span>(<span style="color:#1c01ce">16.0</span>),
      <span style="color:#177500">//每个建议的单词对调用的时候都会调用`itemBuilde`, 并将每个建议的单词对放入ListTile行。
</span><span style="color:#177500"></span>      <span style="color:#177500">// 对于偶数行，该函数为单词配对添加ListTile行。 对于奇数行，该函数添加一个Divider小部件以显示分割线。
</span><span style="color:#177500"></span>      <span style="color:#177500">// 请注意，在较小的设备上可能难以看到分割线。
</span><span style="color:#177500"></span>      <span style="color:#000">itemBuilder:</span> (<span style="color:#000">BuildContext</span> <span style="color:#000">context</span>, <span style="color:#a90d91">int</span> <span style="color:#000">i</span>) {
        <span style="color:#177500">//在ListView中的每一行之前添加一个像素高的分隔符小部件。
</span><span style="color:#177500"></span>        <span style="color:#a90d91">if</span> (<span style="color:#000">i</span>.<span style="color:#000">isOdd</span>) {
          <span style="color:#a90d91">return</span> <span style="color:#a90d91">const</span> <span style="color:#000">Divider</span>();
        }
        <span style="color:#177500">//语法“i~ / 2”将i除以2并返回整数结果。 例如：1,2,3,4,5变为0,1,1,2,2。
</span><span style="color:#177500"></span>        <span style="color:#177500">// 这将计算ListView中减去出去分割线，实际的单词配对数量
</span><span style="color:#177500"></span>        <span style="color:#a90d91">final</span> <span style="color:#a90d91">int</span> <span style="color:#000">index</span> <span style="color:#000">=</span> <span style="color:#000">i</span> <span style="color:#000">~/</span> <span style="color:#1c01ce">2</span>;
        <span style="color:#177500">//如果你已达到可用单词对的末尾......
</span><span style="color:#177500"></span>        <span style="color:#a90d91">if</span> (<span style="color:#000">index</span> <span style="color:#000">&gt;=</span> <span style="color:#000">_suggestions</span>.<span style="color:#000">length</span>) {
          <span style="color:#177500">//..然后生成10个并将它们添加到_suggestions
</span><span style="color:#177500"></span>          <span style="color:#000">_suggestions</span>.<span style="color:#000">addAll</span>(<span style="color:#000">generateWordPairs</span>().<span style="color:#000">take</span>(<span style="color:#1c01ce">10</span>));
        }
        <span style="color:#a90d91">return</span> <span style="color:#000">_buildRow</span>(<span style="color:#000">_suggestions</span>[<span style="color:#000">index</span>]);
      },
    );
  }</code></pre></div>
<p><code>_buildSuggestions</code>函数每个单词对调用_buildRow一次。此函数在ListTile中显示每个新对，这将允许您在第2部分示例中更有吸引力。</p>

<p>3). 给<code>RandomWordsState</code>添加<code>_buildRow</code>方法。</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart"><span style="color:#000">Widget</span> <span style="color:#000">_buildRow</span>(<span style="color:#000">WordPair</span> <span style="color:#000">pair</span>) {
<span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">ListTile</span>(
  <span style="color:#000">title:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Text</span>(
    <span style="color:#000">pair</span>.<span style="color:#000">asPascalCase</span>,
    <span style="color:#000">style:</span> <span style="color:#000">_biggerFont</span>,
  ),
);
}</code></pre></div>
<p>4). 更新<code>RandomWordsState</code>的build方法，以使用_buildSuggestions()。
<a href="https://docs.flutter.io/flutter/material/Scaffold-class.html">Scaffold</a>实现了基本的Material Design视觉布局。</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart">  <span style="color:#000">@</span><span style="color:#000">override</span>
  <span style="color:#000">Widget</span> <span style="color:#000">build</span>(<span style="color:#000">BuildContext</span> <span style="color:#000">context</span>) {
    <span style="color:#177500">//final wordPair = new WordPair.random(); // Delete these... 
</span><span style="color:#177500"></span>    <span style="color:#177500">//return new Text(wordPair.asPascalCase); // ... two lines.
</span><span style="color:#177500"></span>
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">Scaffold</span> (                   <span style="color:#177500">// Add from here... 
</span><span style="color:#177500"></span>      <span style="color:#000">appBar:</span> <span style="color:#a90d91">new</span> <span style="color:#000">AppBar</span>(
        <span style="color:#000">title:</span> <span style="color:#a90d91">new</span> <span style="color:#000">Text</span>(<span style="color:#c41a16">&#39;Startup Name Generator&#39;</span>),
      ),
      <span style="color:#000">body:</span> <span style="color:#000">_buildSuggestions</span>(),
    );                                      <span style="color:#177500">// ... to here.
</span><span style="color:#177500"></span>  }</code></pre></div>
<p>5). 更新入口函数MyApp</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dart" data-lang="dart">  <span style="color:#000">@</span><span style="color:#000">override</span>
  <span style="color:#000">Widget</span> <span style="color:#000">build</span>(<span style="color:#000">BuildContext</span> <span style="color:#000">context</span>) {
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">new</span> <span style="color:#000">MaterialApp</span>(
      <span style="color:#000">title:</span> <span style="color:#c41a16">&#39;Startup Name Generator&#39;</span>,
      <span style="color:#000">home:</span> <span style="color:#a90d91">new</span> <span style="color:#000">RandomWords</span>(),
    );
  }</code></pre></div>
<p>保存下,可以看到如下:</p>

<p><img src="https://codelabs.developers.google.com/codelabs/first-flutter-app-pt1/img/d71590c8c3c2e6f8.png" alt="" /></p>

<p>完整代码:<a href="https://gist.githubusercontent.com/Sfshaza/d6f9460a04d3a429eb6ac0b0f07da564/raw/6c4c0b476fd5d584fe0704314703653eff8eca2d/main.dart">gist</a></p>

<h1 id="one-more-thing">one more thing</h1>

<p>以上是part1部分的内容,part2中会做如下工作:</p>

<ol>
<li>添加交互性</li>
<li>添加导航到新route</li>
<li>修改主题颜色</li>
</ol>

<h2 id="其他">其他</h2>

<p>学习Flutter SDK的其他东西:</p>

<ul>
<li><a href="https://flutter.io/tutorials/layout/">flutter 构建布局教程</a></li>
<li><a href="Add Interactivity">添加交互教程</a></li>
<li><a href="https://flutter.io/widgets-intro/">flutter widget之旅</a></li>
<li><a href="https://flutter.io/widgets-intro/">flutter for 安卓开发者</a></li>
<li><a href="https://flutter.io/flutter-for-react-native/">flutter for RN开发者</a></li>
<li><a href="https://flutter.io/web-analogs/">fluter for web开发者</a></li>
</ul>

<p>更多资源包括:</p>

<ul>
<li><a href="https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905">Build Native Mobile Apps with Flutter (a free Udacity course)</a></li>
<li><a href="https://flutter.io/cookbook/">Flutter Cookbook</a></li>
<li><a href="https://codelabs.developers.google.com/codelabs/from-java-to-dart/#0">From Java to Dart codelab</a></li>
<li><a href="https://flutter.io/bootstrap-into-dart/">Bootstrap into Dart: learn more about the language</a></li>
</ul>

<p>Please reach out to us at our <a href="flutter-dev@googlegroups.com">mailing list</a>. We&rsquo;d love to hear from you!</p>
</div><div id="sidebar" class="column col-2 col-md-12">
                    <div id='toc' class="sidebar-content toc-fixed"><nav id="TableOfContents">
<ul>
<li><a href="#介绍">介绍</a>
<ul>
<li><a href="#part1中将会学到什么">part1中将会学到什么</a></li>
<li><a href="#part1教程中干了啥">part1教程中干了啥</a></li>
</ul></li>
<li><a href="#开发环境">开发环境</a></li>
<li><a href="#创建应用程序">创建应用程序</a>
<ul>
<li><a href="#分析">分析</a></li>
</ul></li>
<li><a href="#使用外部package">使用外部package</a></li>
<li><a href="#添加-stateful-widget">添加 stateful widget</a></li>
<li><a href="#创建无线滚动的listview">创建无线滚动的ListView</a></li>
<li><a href="#one-more-thing">one more thing</a>
<ul>
<li><a href="#其他">其他</a></li>
</ul></li>
</ul>
</nav></div>
                    <script src="https://www.tyrad.cc/js/toc.js"></script>
                </div></div>
        </section>
    </section>
</section>
    </div>

             
    <section id="footer" class="section bg-gray">
        <section class="container">
            <p><a href="/">© 2019 </a> <i class="fa fa-code"></i> with <i
                    class="fa fa-heart-o pulse "></i> by <a href="/">hugo</a>.</p>
        </section>
    </section>
    
    <div class="mobile-container">
        <div class="overlay" id="overlay">
            <div class="mobile-logo"><a href="https://www.tyrad.cc" class="navbar-brand mr-10">
    
    

    <svg height="146px" viewBox="0 0 452 146" version="1.1" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="页面1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="black-37249" transform="translate(1.493827, 14.000000)" fill="#000000" fill-rule="nonzero">
                <path
                    d="M49.1575565,105.3356 C58.6514419,107.744266 56.8866035,117.059598 47.336582,117.946151 C42.200257,119.088059 32.5122345,116.823453 40.3049269,121.756528 C38.9160522,122.059136 31.4488504,121.215252 34.0530212,124.835545 C49.3931802,133.332539 76.1538235,115.03264 58.9252282,100.789887 C52.729951,96.9744155 44.6696275,99.6170026 49.1574334,105.335227 L49.1575565,105.3356 Z"
                    id="路径"></path>
                <path
                    d="M19.6456893,70.1148 C22.442564,67.6540154 27.5058454,64.8429245 31.2812983,65.0068451 C34.6705665,65.8322497 35.5828047,67.0095653 39.186732,72.7438254 C42.8052895,78.5014146 47.9529463,97.2035504 46.1250646,102.790183 C44.2922642,108.392369 38.9206152,112.836988 32.033488,115.798916 C26.5426541,118.077388 16.2140442,117.216187 11.6635736,112.33745 C7.2203064,106.943992 10.4439768,99.2077518 14.1196674,94.0765913 C17.8286541,88.8988961 15.684207,74.5702816 19.6458155,70.1143062 L19.6456893,70.1148 Z"
                    id="路径"></path>
                <path
                    d="M1.04535518,39.6272974 C4.05921119,39.3911165 4.59137567,39.1071824 5.59060008,38.0238167 C6.58982449,36.9404509 5.54928544,35.2576243 6.19663273,34.5114663 C6.84398002,33.7653083 8.10097246,32.9215361 9.07530028,33.5952113 C10.0496281,34.2688865 10.1138613,37.3267543 9.37831661,38.4819379 C8.64277193,39.6371215 5.43905457,40.0090086 5.43905457,40.0090086 L-0.469776243,41.8414683 C-1.16205066,72.2197737 13.1673278,72.6175072 32.5592772,62.9150689 C34.2888429,65.128073 36.8652659,66.7978007 39.3430985,68.5308898 C41.0289707,68.9713953 42.7656319,69.3673848 46.0436407,68.4125409 C52.7893702,66.6134557 67.7858277,37.9865577 58.6189054,24.5853236 C59.5609921,22.3072017 58.5329188,17.6980103 54.831139,9.92564579 C51.5837531,14.9810013 48.3835461,17.0014121 44.9911376,18.7424057 C39.7628549,17.4246155 36.1260864,16.8411895 31.0440711,17.2556102 C32.114064,10.6923806 28.9520111,5.60816741 24.8321244,0 C14.7334474,6.21819269 9.90786696,14.7224118 6.65139374,20.7687134 C4.38306595,26.7113784 -1.96157957,39.8636841 1.04555436,39.6278043 L1.04535518,39.6272974 Z"
                    id="路径"></path>
            </g>
            <text id="TYRAD" font-family="STBaoliSC-Regular, Baoli SC" font-size="116" font-weight="normal"
                fill="#000000">
                <tspan x="87" y="106">TYRAD</tspan>
            </text>
        </g>
    </svg>

    
    

    
</a></div>
            <nav class="overlay-menu">

<ul class=" tree treemenu treemenu-root "><li>
        <a href="/" title="Home page"
            class="">Home</a>
    </li><li>
        <a href="/archives/" title="Archives page"
            class="">Archives</a>
    </li><li>
        <a href="/wiki/" title="Wiki page"
            class="">Wiki</a>
    </li><li>
        <a href="/tools/" title="Tools page"
            class="">Tools</a>
        <ul><li>
                <a href="/tools/json/" class="">JSON解析</a>
            </li><li>
                <a href="/tools/rsa/" class="">RSA测试</a>
            </li><li>
                <a href="/tools/knowlegenav/" class="">导航</a>
            </li></ul>
    </li><li>
        <a href="/about/" title="About page"
            class="">About</a>
    </li></ul></nav>
        </div>
    </div>
    <script src="https://www.tyrad.cc/js/jquery-2.x.min.js"></script>
    <script src="https://www.tyrad.cc/js/jquery.treemenu.js"></script>
    <script src="https://www.tyrad.cc/js/site.js"></script>
    <script src="https://www.tyrad.cc/js/baidu.js"></script>
    
</body>

</html>